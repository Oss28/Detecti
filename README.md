# Detecti
Detecti was created with the goal of providing a solution capable of analyzing alerts generated by other tools in order to exclude, or at least reduce, the number of false positives. This enables smart contract developers to focus on portions of the code that represent genuine security risks. Although this was the founding idea behind this prototype, to date Detecti can also be used as a standalone tool for vulnerability detection.

Detecti was developed to assess three distinct categories of vulnerabilities: Unchecked Return Value, Timestamp Dependence, and Reentrancy.

Our primary objective is to scrutinize segments of the code that have triggered alerts from other tools, with a clear emphasis on identifying potential false positives.

The need for such a tool arises from a problem common to most of the tools available to date for vulnerability analysis of Smart Contracts written in Solidity: the production of a considerable number of **false positives**.

## Getting Started
1. The first step will be to install [Surya](https://github.com/ConsenSys/surya), the parser used at the base of our code analysis tool.
2. Then you will need to verify that python is properly installed on your machine, otherwise install it.
3. Download the Detecti.py file from this repository.
4. Provide that file with execution permissions.
```
chmod +x Detecti.py
```
5. Download the necessary libraries, via pip, for the operation of Detecti.
```
pip install networkx
pip install matplotlib
```
6. Run the python file, providing as an argument the path to the Solidity file to be analyzed.
```
./Detecti.py test.sol
```
## Tests
`Dataset` folder contains our dataset, a collection of Solidity smart contracts, currently deployed on the Ethereum blockchain, serving as test cases to assess the tool's performance. Each vulnerability category includes 32 smart contracts, located within their respective subfolders: `Ree` for Reentrancy, `TD` for Timestamp Dependence, and `URV` for Unchecked Return Value.

To easily and quickly reproduce the tests on all 96 smart contracts, we provide the `script.py` file. This script takes advantage of several options available in Detecti's command-line interface to allow for automation. 

Here are the available options:
- `-s` This option allows users to select the types of vulnerabilities to be analyzed within the smart contract. Users can specify one or more comma-separated values to select multiple vulnerabilities at once. (1 for URV, 2 for TD, and 3 for REE)
- `-a` This option specifies which portions of the code should be analyzed. Use `a` as parameter to select all code slices for analysis, or `n` to indicate that no slices should be selected.
- `-v` Enables verbose mode.

## License
GPLv3.0



